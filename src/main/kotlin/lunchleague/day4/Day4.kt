package org.example.lunchleague.day4

fun main() {
    val twoDeeMap = puzzleInput.split("\n").map { it.split("") }

    val rolls = mutableListOf<Pair<Int, Int>>()

    twoDeeMap.mapIndexed { j, line ->
        line.mapIndexed { i, char ->
            if (char == "@") {
                rolls.add(Pair(i, j))
            }
        }
    }

    prettyPrint(twoDeeMap)

    val accessibleRollsCount = rolls.count { roll ->
        val neighbouringRollsCount = neighbours.count { (diffI, diffJ) ->
            Pair(roll.first + diffI, roll.second + diffJ) in rolls
        }
        neighbouringRollsCount < 4
    }

    println("Part 1: $accessibleRollsCount")

    part2()

}

fun part2() {
    val twoDeeMap = puzzleInput.split("\n").map { it.split("") }

    var rolls = mutableListOf<Pair<Int, Int>>()

    twoDeeMap.mapIndexed { j, line ->
        line.mapIndexed { i, char ->
            if (char == "@") {
                rolls.add(Pair(i, j))
            }
        }
    }

    prettyPrint(twoDeeMap)

    val initialRolls = rolls.size

    while (true) {
        val rollsBeforeCount = rolls.size

        rolls = rolls.filter { roll ->
            val neighbouringRollsCount = neighbours.count { (diffI, diffJ) ->
                Pair(roll.first + diffI, roll.second + diffJ) in rolls
            }
            neighbouringRollsCount >= 4
        }.toMutableList()

        val rollsAfterCount = rolls.size

        if (rollsAfterCount == rollsBeforeCount) break
    }

    val finalRolls = rolls.size

    val rollsRemoved = initialRolls - finalRolls
    println("Part 2: $rollsRemoved")

}

val neighbours = listOf(
    Pair(-1, -1), Pair(0, -1), Pair(1, -1),
    Pair(-1,  0),              Pair(1,  0),
    Pair(-1,  1), Pair(0,  1), Pair(1,  1),
)

private fun prettyPrint(twoDeeMap: List<List<String>>) {
    for (line in twoDeeMap) {
        for (char in line) {
            print(char + " ")
        }
        println()
    }
}

val input = """..@@.@@@@.
@@@.@.@.@@
@@@@@.@.@@
@.@@@@..@.
@@.@@@@.@@
.@@@@@@@.@
.@.@.@.@@@
@.@@@.@@@@
.@@@@@@@@.
@.@.@@@.@."""

val puzzleInput = """@@@@@@@@@@.@@@@@@@@@.@@..@..@.@.@@@@@@@@.....@@@@@@@@.@@@@..@@@@@@@@@@@@@@@.@...@.@....@@@..@..@@.@.@@@..@@@@@@@@@.@@@..@.@@....@@@@@@.@@.@
..@@.@..@@@@@@@@...@@@.@@.@@@..@....@.@...@.@..@.@@.@.@@...@@@@@@....@@@.@@@@@.@@.@@@.@@.@@@.@@@@.@..@.@@@@@@....@@.@@@.@.@@...@@@..@@@.@.@
@...@.@.@@.@@......@@@@@...@@@..@@.@@@.@@..@..@@@.@@@@.@.@.@@@..@@@@@.@@@@@@@...@.@@.@.@.@@.@@.@@@@.@@@@@..@@.@@@@@.@@.@@@.@@.@@@.@@@@@....
@.@.@..@@..@.@@@@@.@@@@@@@@.@.@@..@@.@@@..@..@.@...@@@.@@..@.@@@@..@@@@@@@.@@@@@.@@...@@@..@@@@@@..@.@..@@@@.@@.@@.@....@@@.@....@.@@.@.@.@
@.@.@.@@@@@@@.@@.@@@@@@@@.@..@@@@@.@@@@@@@@@.@@@@@@@@.@@@@@@@@@@@@@@@@@@@.@@@@@@.@@@.@@@.@@@@@@@@.@@@.@.@@@@@@@@@@@.@..@@@..@.@@..@@@@..@@.
.@.@.@.@@@.@.@@@.@@@@@@.@.@@@@@@.@...@@@..@@@@@.@@@.@@@@@@.@@@@@@.@@@@.@@.@.@@@.@@@@.@..@@..@@.@@@..@..@@.@@.@.@@@@.@@...@..@@..@@@@@@.@@.@
@@.@@.@@...@@@..@@@.@@@@.@@@.@@@@@.@.@@@@@.@@....@@@.@@@@@.@..@..@@..@...@.@@@@@.@@@@.@@.@.@.@..@.@.@@@@.@@@.@.@@@@.....@@@@@@.@@@.@.@@@@@.
@@.@@@..@@...@...@..@.@.@@@..@@@@@......@@@@@@@@@.@@@@@@.@@@..@@@@.@@@..@@@@@@@@..@@@@.@@@.@....@..@@@..@...@.@.@@@.@@@...@@@.@.@@@@@..@@@@
......@@@.@@@@.@@@.@@@.@.@@@@@@.@@@.@...@@@@@..@@@@.@@@@@.@.@@@..@@@@@..@@.@@..@..@@.@@@.@@@@@@..@@...@@@@@.@@@..@@@.@.@.@.@..@@@@@.@.@.@@.
@@@@@.@@@.@@@.@@..@@@.@..@@@@@@.@@.@..@@@@@@@@@@@@.@@@..@@@@..@@@@...@@@@@@@@@@@@.@@@@.@@@@...@...@@@@@@.@.@@@@@.@@...@.@@@.@@.@@.@..@@@@@.
@@@@@@@..@@@.@.@@@@.@@@@@@@.@@.@.@@@@@..@.@@@..@@@@@.@.@@@@@@@..@@.@@@@@@@@.@@@@..@.@@.@@@@.@@@.@@@@.@.@.@@.@@@@@..@@@.@@@@@@.@@@@..@..@.@.
@...@.@..@.@@..@..@@@@@@.@@@@.@@.@...@..@@...@..@@@..@.@@@@.@.@@..@@@...@@@.@@.@@@@@@@..@@....@@...@@@@@@@@@.@.@@@@@@@@.@@..@@@@@..@@.@...@
@@@@@@@.@@@@@@@.@..@@@..@.@.@@@@.....@@@.@@@@@.@@@@@..@@@.@@.@..@.....@@@...@@.@@@.@@@@@.@@...@@@@@@...@.@@@@@.@@@@@@@@@@@@@.....@.@@@..@.@
@@..@.@@.@@..@@@@...@.@@.@.@@@@..@@@@@@@.@.@@@@@@@@@.@@@@@..@..@@.@.@@@.@@@.@.@.@.@@@@.@@.@@.@@@@@.@.@@...@@.@.@@@@@@@@@.@@@...@.@@@.@@@@.@
@.@@.@.@.@.@@@@....@@@.@@@@@.@@.@.@..@@@@.@@@@@@@@@@.@@.@.@.@@@@@..@@.@@@.....@..@@@@...@@.....@@..@@@.@.@@@@..@..@.@.@@@.@@@@..@..@@.....@
@.@@@..@.@@..@.@..@@@..@...@@@.@@@.@@@.@.@@@.@@@.@.@@.@@.@.@@.@.@.@.@@@@@@@@@...@@@.@.@.@@@@@.@..@@@@@@.@@@@@@@@@.@@@..@..@.@.@@...@@@@@.@@
@.@.@@@.@.@.@...@@..@.@@@.@@@@@@.@.@@..@@@.@@.@..@@@@@@@@@@@@@@.@.@@..@.@.@@@@@.@@.@@@@@.@@@.@@@...@@@@..@@@@...@@..@@.@.@@@@.@.@@.@.@@..@@
@@@@@.@@@@@@.@.@@@.@.@@@@.@@@..@.@@@@@.@.@@@..@@@@@@@.@@@@@@@@@....@@@@@@@.@@.@@@@@@.@.@.....@.@@@@...@@...@.@@.@@...@@@@@@.@@@@@@@@...@.@@
.@@@@@@..@@@@...@...@@@...@@@@@@@@.@@@@@.@@@@.@@@@@.@@@@@.@@@@@@@.@@.@@@@@@@@.@..@..@..@@.@@@@@@..@.......@@.@@@...@..@@.@...@@@@@@@.@.@@@@
.@.@@@@@..@@@@@@.....@@.@@@@...@@@..@@@@@@..@@..@@@@@@@@..@@.@@.@@.@.@.@@@@...@..@@@@@@....@@@@.@@@@@@.@.@@@@@..@@.@@..@@...@.@...@@@@.@@@@
@@@.@@@....@@..@..@@@@.@.@@@@.@.@@@@@@@@..@@@@..@@@@@.@@@@.@.@@@@@@@@@..@@@..@@...@@.@.@.....@@.@@..@@@@@..@@@.@@.@.@@.@..@@@@.@@@@@.@@.@.@
.@@@@@..@.@@.@..@...@@.@..@@@..@@...@@@..@@@@@.@@@....@@@@@@..@@.@@@..@.@@@@.@@@...@@@@@@@.@@@@@..@@.@@@@.@.@@.@@.@.@@.@@@.@@@....@.@@.@...
@@@@...@.@@@@@.@..@...@.@@.@@@.@@@@.@.@@....@.@.@@@@@.@@@@@.@@@...@@@@@@@...@.@@@@..@@@@@.@@@@@@.@@@@@..@.@@@.@@@@.@@@@.@@.@@.@@@@@@@..@@@.
@@..@@@@@@@..@.@.@.....@@@@@@@@@@@@@@@@..@@@@.@..@..@@@@@...@@@@@@@.@@@@@@@.@@@@.@.@@@@@@@...@@.@@@@@@@@@@@.@..@@@@@@.@.@..@.@..@@..@@.@@.@
@.@.@@.@@@@..@.@.@@@.@@@.@@@@@@@@.@@.@..@...@@....@@.@@.@.@@.@.@..@@.@.@@@.@@@.@.@...@@@@@.@@..@@@@@.@.@@@.@.@....@..@.@.@@.@..@...@@.@@@@@
@..@.@.@@@.@@@@.@@@.@@@@.@.@.@.@@@@@@..@@.@@..@@.@..@.@@@@..@@@.@@@@@.@@@@.@@@@@@.@.@@@.@@..@@.@@@@......@@@@@@@@..@@.@...@@@@..@@@.@@@@@@@
.@@......@...@...@.@@@@@.@@@.@@@@@.@.@.@@@.@@..@@...@@@.@...@.@@..@@.@@@...@@@@@@@@@@@.@...@@@@@..@@@@.@@@.@@@@@@@@@@.@@@.@..@.@@@@.@..@@@@
..@@..@@.@@.@..@@@.@@@..@@@@@@@@@@@@@@@.@@.@@@@.@.@@.@@@@@@.@@@@.@@.@@@@@@@.@@@@.@@@@@.@@@@@@.@@@@@@.@@.@..@.@@@@...@.@.@@@@@.@@@.@@@@@@..@
.@.@@@@@@@.@@@@@....@@.@@@.@..@..@@.@...@@@@.@@@@.@.@.@.@@.@@.@..@@.@@.@...@@..@@@.@....@@..@@@@@@@.@.@@@@@.@.@@@@.@@@.@.@@@@@@@@@..@@@.@@@
@.@@@.@@@.@@@...@..@.@.@..@@@@@.@@..@@@@@.@@.@@.@@..@..@@@@@.@@.@@@@.@..@.@@@@@@.@@@@@@..@.@@@@@@.@@@@.....@.@@@.@.@.@@@@@@.@@@@@.@@.@@@..@
@@@@@@@.@@@.@@@@@..@.@.@@@@.@@...@@@..@@@@@@@@@.@@.@@@@@@.@@@..@@.@.@.@....@@.@@@.@@@.@@@@@.....@.@.@@..@.@.@.@...@@@@@.@..@@@.@.@..@.@@@@.
@.@@.@@@@@@@@@.@@@@@.@@..@@@@@.@...@...@@@@.@@@@@.@@@@@.@.@@.@..@@@@@@@@.@@.@@@@@@.@.@@@...@@@@.@@.@@.@@...@@@@@@..@@@.@@@.@@@@.@..@@@@@@@.
.@@@@.@@.@..@@.@...@@..@@.@.......@.@@@..@..@.@@.@@...@..@@...@.@@@@@@@@..@@...@.@.@.@@@@@.@@@@.@@.@@@@.@.@@@@@.@@.@@@@..@@@@.@@@@.@@..@@@@
@.@@..@..@@..@@@@.@.@@@@@@.@@@@@@@..@@.@@.@@.@@...@@..@@@@@@.@@.@.@.@.@.@@@@@..@.@@..@@....@.@@@...@@@.@@.@@.@@.@..@.....@@@@@.@.@..@.@@@@@
@@@.@@..@@@.@@@.@..@....@....@@@.@@.@@@.@@@@@@.@@.@.@@@..@...@.@@@.@..@.@@@@@..@.@@@.@.@.@@.@.@@@@..@@..@@@@..@@@@.@.@@@....@.@@@@.@.@...@@
@.@@...@.@.@@@@...@@.@..@.@@@@@@@@..@@@.@@...@..@@@@@@@@@@@.@.@..@@.@@.@.@@..@@..@@@@@.@@@...@@@@@.@...@@@@@@@@.@@@@.@@.@@@.@.@.@.@.@@.@..@
.@@.@.@.@@@.@@@@.@@@@@..@@@...@@@..@@@.@.@@@@@.@@@@@...@@.@@@@@@@.@@......@.@@@@.@.@@.@..@@@@@@@@..@.@@@@@@@@@@..@@@@@@.@@.@@@@.@..@.@@..@@
..@@.@..@.@@...@@@@@...@@@....@...@.@@@@@..@@@@@@.@...@..@@@@@@.@@@@@.@@.@.@@@@..@@@.@@@@....@@@.@.@...@@@@.@...@@@@@@...@.@@@@@@@@@@@@.@@.
.@@@@@@...@@@@@@.@@.@..@@@@@@.@@..@@@.@@@@@....@@@@.@@.@@.@.@@@@@.@.@@.@.@..@@.@@@@.@@@@@..@.@@.@.@@@@.@@@.@@@@@..@@..@@@@..@.@@.@@.@@@..@.
@@@.@..@@@.@...@.@.@.@.@@..@@.@..@@@@@@..@@.@@@..@@@.@@@@.@.@..@@@..@@@.@@@.@@.@..@.@@..@..@@@.@@@..@.@@@@.@@@..@..@@@@.@.....@.@@.@.@@@@@.
.@@@@@.@@.@.@.@@@.@@@.@@@@@...@@@@..@@.@...@@@@@.@@.@.@@@@@.@.@.@.@..@@.@@@@........@@.@@..@@@@.@.@.@..@.@@@@@@@@.@@@@@@....@@@@@@.@.@@.@@@
@@@.@.@..@@@..@@@@...@@@@.@@@.@@@@.@.@@..@..@@.@@...@@@@@@@.@.@@.@@@.@.@@...@.@@@@.@.@.@..@.@.@@@@@@@@...@..@.@.@.@@.@@.@.@.@@.@@.@.@..@@@.
@@.@.@@..@.@@.@@..@@@.@.....@@.@@@.@@@@.@@.@..@..@.@.@@@@.@@.@..@@.@@@@@.@@@..@@@@@.@@@@@@@@@@@@@@@.@@@@.@.@@..@....@@@.@@@@@@...@.@@@@@@@.
.@.@...@@@.@@..@.@.@@@....@@@@@@@@@@.@@@..@..@@...@@.@@@@@@@@..@@.@@@@@@.@@@@...@@..@.@.@@......@@@@@.@...@@@@.@@.@@..@.@.@.@@@..@..@.@.@@.
@..@...@..@@@.@@@@@.@@@.@..@@.@@@@@@.@.@@@.@.@@@.@@.@@@@@.@.@.@@@..@.@.@@@@.@.@@.@@@.@.@..@.@@...@@.@.@.@.@@@.@@..@@@@.@..@...@@@@....@@@.@
@@@@@@.@@@.@.@@@@@..@@@...@.@@@@.@@.@.@@.@@@@...@.@.@@@@.@.@@@@..@@@@.@@@@.@...@@@@@@.@@@@@@@@@@.@@@@@.@.@...@@.@@@@..@..@.@@.@.@.@@.@..@@@
@@@..@@.@@..@@@..@..@@@@@@@@@@@.@.@@@@@@..@@@@@@.@.@@.@@@@..@@@@@@.@@@@@.@.@..@.@@.@.@.@..@@..@.@..@.@..@...@@.@@.@.@.@.@@@.@@@@@@@@@@..@@@
.@@...@@.@@@.@@@@@@.@..@.@..@@.@@@@@@@.@@@@@..@@@@.@@..@.@@@@@@.@@.@.@@@@@@.@.@@@@@@@..@@@..@@@@@@@.@@.@@@.@.@@.@.@@.@.@.@@@@.@.@@..@@.@@..
.@@@@.@@@.@..@@@@.....@@@@.........@..@.@@@@@@@@@.@@.@@@@..@...@..@@..@@@@.@.@@.@@@@@@..@..@@.@@@@@.@@@@@@@@@@.@.@@@@....@@@@@..@@@@.@@@.@@
@..@@@@@@...@@@@@@@.@.@.@.@@.@@@.@.@@......@@.@.@@.@.@.@@@.@@@@.@..@@@..@@@.@..@@.@.@.@...@@.@@@@.@..@@.@..@.@@.@@.@@@.@@@.@@@@...@@@@.@.@.
@@@@@@@@...@@.@.@@@@@..@@@.@@@.@.@@@.@@@.@.@@@@@@..@.@@@@@.@@..@..@..@@@@.@@@.@@..@...@@.@@...@@.@@@...@@@@@.@..@.@.@.@.@@.@.@@@@@.@@@@@@@@
@@@@@.@.@@@@.@.@@@@@@.@@@..@@@@@.@@@.@@....@...@@@@@@...@...@@@@@.@@@@.@@@@@@@.@.@@@@.@...@@@@....@@.@@.@@@@.@@.@.@@@@@@@.@@..@@@..@.@@.@..
@.@@..@@.@@..@@@@@@@@@@.@..@..@@@.@@@@.@@@@.@.@@@@..@@..@@.@...@.@.@.@@@.@...@@@@@@@.@.@@.@@@...@@@@.@.@.@@@@@.@@@@@@@.@.@@@.@..@@.@..@@@@@
@.@@@@@@.....@@.@.@.@@..@@@@@...@.@.@.@@@@.@@.@.@.@@@@.@@.@@.@@.@@.@@@.@@@@@.@@@@@.@@@@.@..@...@@.@...@.@.@@@@@@@@@@...@@@@.@..@..@@.@@@..@
@@.@@.@@.@.@@@@@@.@@@.@@@@..@..@.@@@@.@.@@@..@@@@....@.@.@@@@@.@@@.@@@@@....@@.@@@@.@.@.....@.@..@@.@@.@..@.@@@@...@@@@@.@.@@@@@@.@.@.@@@@.
@...@@@.@.@..@@@@@.@@@@@@@.@@@.@@@...@.@@@@@@@@@.@@@@..@@..@@.@.@.@@.@@@@.@@.@@..@..@@@.@@@..@@@@@.@.....@@...@.@@.@@@@@@@@@@@@@@.@@@@@...@
@@@......@.@@.@@@@@..@@.@@..@@..@@@.@.@.@...@...@@.@@.@.@.@..@.@@@@.@@@@@.@@@@@@..@@@@....@..@.@@@...@@@.@@@@@.@@@@@.@@@....@.@..@@@@..@@.@
@@@.@..@@@@@@@@@@...@@...@@.@.@@.@.@@@.@@@@@@@@@@@@@@..@@@@@.@.@@.@.@@@.@@@..@..@@..@@.....@@@@.@@.@@.@@@@@@.@@....@@@@@@.@@@@...@@@@@.@..@
@@@@@@@@@@@@@.@@@.@.@@@@@..@@.@..@@@@@@@@.@@@.@@@@@@@.@@.@...@@@...@@@@@.@@@.@.@@@@@....@.@.@@.@...@...@@...@@@@.@@@@..@@@@@@@.@@...@@@@@@.
@@@@.@.@@@@@.@@@@.@@.@...@@@..@@@.@@@.@.@..@.@@@@@.@@@@.@@.@.@.@@@.@.@@..@@@@.@@..@@@..@..@@@.@@@@.@.@@@@@@@@.@@@@.@@@....@@.@...@.@.@.@@@.
@@.@@@@@..@@@@@@@@..@@.@@@.@....@..@@@@.@..@@..@.@@.@@@.@@@@@@@.@@@@@...@.@.@..@.@@@.@@@@@@@@.@@@@..@@...@@@@@@@@@.@@.@.@@.@..@..@.@@.@..@@
@@@@@@.@@@@..@@@@@@.@@.@@....@@@@.@.@@@@@@.@@@@@@@@.@@.@@@@@@@@@@@@@...@@@..@@@@@@@.@.@.@..@.@..@.@@.@@@@@@@@@....@@.@@@@...@.@@@@.@@@...@.
..@@@@@@@@@@@@...@@@.@@.@@..@@..@..@.@.@@.@@@..@.@..@.@@@@..@@.@.@@@@@...@@@@...@@@@@@.@@..@@@@@@@@..@@@@.@..@@.@@@@.@...@..@.@.@@@.@...@@.
@@.@@@@@@@.@@..@@@.@...@@@.@@@@@@@@@.@.@@@@@@@.@.@.@.@@@@@@@@@@...@.@@@.@.@.@@@...@@@.@@@.@@@@@@.@@@@.@..@.@.@@@..@@@.@@@@@.@@@@.@@@@.@@.@.
@.@..@@.@@@@@..@@@.@@@@@.@@.@@@.@@...@@@@@..@@..@@.@.@@.@@@.@@@@..@@..@@@..@...@@.@@.@..@@.@.@@@@@@..@@@..@@@.@@@@......@..@@.@@@.@@@.@@@..
@.@@@@..@@@@@..@.@@.@.@@.@@@@@.@@@@@@@@.@.@...@@.@@@@.@.@.@.@@@@@@.@.@.@@@@.@.@@..@..@@.@.@@@.@..@@@...@@.@.@...@@@@@.@..@@...@.@.@@@@@@@@.
@@.@.@@@@@@@..@.......@@..@@.@@@.@@@@.@..@@..@@@@@@@@.@@@@.@@@.@.@@@@@@@....@@@@@.@@@@@@.@.@@.@@@.@@@@@..@@@@.@.@@@@@.@.@@@@@.@@.@@@@@.@..@
@.@@.@@.@@@@@@..@..@@@.@@@....@@@.@@....@.@.@@@..@@.@..@@@@@.@@@@@@@@@@@@.@..@@@@..@@@@@@.@..@@@@.@.@.@@@@@@@@@@.@..@@@@.@@@@@.@.@...@.@@@@
@..@.@...@@.@@@@.@@.@@@..@@@.@@...@@@@..@@..@@.@@@@@.@...@@@.@@@@..@@@@@.@.@@@@.@@.@@.@.@..@.@.@@@.@.@...@@.@@@...@@@..@@@@@@@@@@.@@@.@.@.@
@@.@.@@@.@..@@@.@..@@@@.@@@..@.@@.@..@@@....@@@@..@.@.@..@@@@..@.@@@..@@.@....@@@.@@@.@...@.@@.@@@@@.@@.@@@@@.@.@...@@@@@@@@@@.@.@@@@@@@@..
@@.@@.@..@@@@@@.@@@.@.@..@@.@.@.@..@..@@@@@..@...@.@@@@@@@@@@@.@..@.@@.@.@@@@@@@.@.@@..@..@@.@@@.@@.@@@@@.@@@@.@@@@@@.@@@.@.@@..@..@@......
.@@....@@@@@@...@@@.@.@@@@@@@.@@@.@@@@@@@.@@@@....@@@@@@@@.@@@@@.@..@@@@.@.@.@@...@@@@@@.@@@.@@@@@@@@.@.@@@@@@@.@@@@@.@.@@@.@..@@@..@@@@@@@
@.@@@.@@@@@@.@@.@@@@.@@.@....@@@@@.@@.@@.....@@...@@@@.@@@.@.@..@.@..@@....@@@@...@.@.@@@@...@@@.@...@@.@@.@@@@..@.@@.@@....@@@@@@@@@@@@.@@
@.@@.....@@.@..@@......@@@@@@@@@.@@@@@@@@@@.@..@@.@@..@@.@@@.@.@@..@.@..@..@@..@...@@@.@@@.@@@@@@@@@.@@@.@@.@@@@.@@@@@@.@...@@..@@.@.@@@@@.
@@@@@.@@.@@@@@@.@.@@@.@@.@@@@.@.@@@@..@@@@@@.@@.@.@@@@...@..@@.@@@@@.@.@..@@..@@@...@@@@.@.@@@@@@@@.@...@.@.@@.@@@@..@@@@@@.@@.@@@@@@@@@.@@
@.@@.@.@@@@..@..@.@@.@@@@..@.@@.@@@@@@.@@@@@@@@@@@@..@@@@@@...@.@..@@.@.@@.@.@@@@@..@@@@...@.@...@@.@@@@.@@@.@@..@@..@.@@..@@.@.@@..@@@@..@
@@@..@.@@.@@.@@.@@@@@..@..@@..@.@@@.@@@.@.@..@.@.@.@@@..@@@@@@..@@@@@@@@..@.@.@.@@@@@@.@@@@@@@.@@@.@@@@..@...@@.@@@@@@.@.@@@@.@..@....@@...
@@....@@....@@@@@.@.@@@@..@...@..@@@.@...@@@.@@@@@.@@..@@@@@..@@@@@@@@.@..@..@.@..@...@@@@@@.@@@@@@.@..@.@@.@@..@.@@@@@@.@@@@..@@..@@@.@@@@
@@.@@@@.@@@@@@@@@.@@...@.@@@@@.@@@@@@@@.@.@.@.@@...@@@@@.@..@@@@..@..@.@@@@@@@@..@.@@@.@@.@@@@.@.@.@...@@.@...@@.@@.@@.@@@..@@.@@@.@@@@@@@.
@.@.@.@@.@.@@@@@.@@@@..@@@...@@.@@@..@@@@@@..@..@@.@.@@.@@@@.@@....@.@@@@@@@@@.@@@.@.@@.@@@@.@.@@@@@@@.@.@@.@@.@.@..@.@@@..@@..@@@@.@@@..@@
@@..@.@@@@@@@@@..@@@..@..@@@@..@.@@@@...@@@.@@@@@@..@@@...@.@.@@@@@@@...@..@@@.@@@@@@@.@@@.@@..@.@...@@@.@@@...@.@@.@@@.@@@@@.@.@@@@.@@@@@@
..@.@@...@@.@..@..@.@.@@..@.@..@.@@@@@@@.@@@@..@.@.....@..@@@.@@@...@@@....@.@@..@@.@@@.@....@@..@@@.@@.@....@.@@..@@@@.@@@.@.@@..@@@...@@.
@..@@@.@.@@@@@@...@@.@..@.@@@@@@.@..@....@.@...@@....@@@@.@@@.@.@..@@.@@@@.@..@@@.@@@..@@@@@@@.@@.@@@....@.@@@@@@@@@@...@@..@@@.@@@@@.@.@@.
@.@@..@....@@..@@@@.@@@@@@.@@.@@..@....@@@@@@@.@.@@@...@@@@.@.@@@.@.@@@@@.@@@@...@@@@@..@.@....@@@.@@@@@@@.@@@..@@@@@@@..@@@.@.@.@@.@.@.@@@
@@@@@@@@.@.@@@@..@@@@@.@@@@@.@@.@@@...@@.@@@@@@@.@@@@@@@@.@@.@@@.@.@@.@..@@@.@.@@@@@@@..@@@@@@...@.@@..@..@...@@@@...@@@@@.@.@.@@.@@.@.@@@@
@.@.@@@.@@@.@@@.@.@@.@@@@@@.@..@..@.@@.@@@.@...@@@@.@@@....@..@...@@@@.@@@@@..@..@....@@@@.@@@@..@@@.@@@@@.@@@@@.@...@@@@..@@@@@.@..@@.@.@@
@@@@@@.@@@.@@.@@@.@.@@@.@@..@.@.@@@@@.@@@..@@@@.@@.@..@.@@..@@@@@@.@@@@@..@@@..@@@@@.@@@.@@@@@.@@@@@..@@@@@.....@@@..@@.@@@@@..@@@@@.@@@@.@
@@.@@@@@@@@@@@..@@.@@.@.@..@@...@.@@.@@@@.@@..@@@@@.@.@..@@.@...@@@@.@@..@...@@@.@@..@@...@@..@@@..@.@..@@@@@@@@...@..@@@...@..@@...@.@..@.
@@@@.@.@@@.@.@@@.@.@@@@@@@@@.@.@.@.@@@@@...@@@.@.@@@@@@@@@@.@.....@..@..@@@.@.@@.@@.@@.@@.@.@@@...@@..@@@@@@@@@@@@@@@@..@@.@@@.@@.....@.@@@
@@@@..@@.@..@@@@@.@.@.@@.@@@@@@@@@@@@@@.@@@@@@.@...@@.@@@@@.@.@@@@.@.@...@@@@@.@@.@@@..@@.@@@...@@@.@.@@@..@.@@.@@@@@@.@.@@..@@@@@@@@.@..@@
..@@.@@.@@@..@@@@@@@@@@@.@.@@..@@.@@.@.@@@.@..@@.@.@@@@@@.@..@.@@.@.@@@@@.....@@.@..@@@@@@..@@@.@..@.@@@@.@.@.@..@@@@@.@@@@@.@@@.@@@@.@@@.@
@.@@.@@@@@@..@@@@@@@@@@@@@@...@.@@.@..@@@@@..@@.@..@.@..@@@.@.@@@.@....@@@@@@@@@.@..@@...@@..@.@.@@.@.@@.@.@@@.@.@......@@.@...@@@..@@.@@@@
@@@@..@@@.@@@@@@.@@..@.@.@@@@@@@@@@@.@.@@@@@.@@@@@@@.@.@@@...@.@.@@@..@@.@@@@@...@@@.@@@@.@@.@@@@@@.@@@@@@.@@@@@..@...@@.@...@@@@@@@..@@@.@
@@@@@.@@@@@..@@.@@@@@@.@.@@@@@.@..@@@@@.@@.@@@..@@...@...@@@.@.@@.@.@.@..@..@.@@@..@@@@@@@.@@..@....@@@.@@@@@@@.@@@@@@.@@..@@@@.@@@.@.@..@.
@@@@.@@@@@@...@.@@@@.@@@.@@..@.@..@@@@@@@...@.@.@.@@@......@.@..@..@@.@..@.@@@@@@@@@.@.@.@@@.@.@.@.@@.@@.@@@@@.@.....@..@@@@..@.@@.@.@@@@.@
@@@@@@@...@@@@@@@@..@@@@@..@@@@@@..@@.@.@.@@@...@@@@@@@@@@@@@@@@@@@.@@@.@@@@@@@.@@..@.@.@@.@@.@@@.@@@.@@@.@.@@@@@@.@.@..@@@@.@@.@@@..@@@@@@
@.@@@@@@@@..@@@@@.@.@@..@@.@.@.@@.@@@.@.@@@.@.@.@@@@...@@..@@@@@.@@@..@@@@@@@@.@...@.@@@@..@@@...@@@@..@.@.@.@@@@@@.@@.@@..@.@...@@@.@@@@..
.@@@@.@.@@@@..@@@@..@@@@@@@@@@.@@.@@@@@@@@@.@@@.@.@.@@@@@.@.@@....@@@@@@@...@@@@.@@..@@@@@@@@@..@@.@@@.@@@..@..@.@@.@@.@.@@@.@.@.@@@.@.@@.@
.@...@@@@@@.@.@.@@.@@@@@@@..@@.....@@..@.@@@.@@@@@.@@@...@@@@.@@.@@.@@@...@.@@...@@@..@@@@@@.@@...@.@.@@.@.@@@.@@@@@@@..@@...@.@.@@.@@@@@.@
@@@.@@@.@@@@.@@@@@.@.@@@@@....@@@.@@@@@.....@@.@..@...@@@@...@@@@.@.@.@.@@@.@.@.@@@.@...@@..@@.@..@@..@@..@@.@...@.@@@..@.@@@..@...@@.@@@@.
@@@@@.@@@@@@@@@.@.@@@@@@@@..@@.@.@@.@@@..@@@.@.@.@@.@@@..@@@@@..@.@.@@@@.@@.@@@@@.@.@@@@.@@..@@@.@@.@@@.@@@.@.@@.@@@@..@.@@@..@@.@@@@.@@..@
@@@.@@@@@@@@.@@.@.@.@...@@..@@..@@@@@.@@@@@@@@@@@.@.@@@@.@@.@.@.@@@...@@@.@@@@@@.@@.@@...@@@...@@@@@@@.@@.@@.@.@@@.@@@.@@@..@.@@.@@@@@@.@@.
@@.@@@@@@@@@@@@@.@.@@@@.@.@.@@@@.@@@.@.@....@@@@.@@.@@@.@@...@.@@@@@@.@.@@@@@@.@@...@@@@@@.@..@.@@@..@.@@.@@@@@@@@..@@@@@@@@.@@@@@@@@..@@@@
@@@@.@.@@...@@@.@.@..@@..@.@@@@@..@@@@.@.@@@@@@@@.@@.@.@@.@..@..@@@.@.@@@@.@..@@@.@@@@@@@.@@.@...@@.@@@@@.@@@@@.@@@.@@@@@.@@@@@@.@@..@..@@@
@@...@@@@@@.@@....@@.@..@@@@@@@@.@.@@@..@@..@@.@..@@.@..@.@@@@..@..@@.@@@.@@@@.@.@......@..@@.@@@@...@...@@...@@@.@@@.@@.@@..@.@@@@@@.@@@@@
.@.@......@@.@@.@..@@.@@..@@.@@.@@.@.@.@@@@@@.@.@@@@@.@@.@.@@@.@@@@..@@..@@@.@@.@..@.@@..@@@@@...@@@.@@..@@@@@@@@@@@@@@.@.@@.@.@.@@@@.@@.@.
@@@@@.@@@@@.@@@.@...@@.@.@@@@@@.@@@@@.@@@.@@@.@@...@@@.@@@@.@@.@.@@..@....@@...@@@.@@@@@.@.@.@@@@@@@.@@@@@@.@@@@..@.@@..@@...@@@..@@@@.@@@.
@@@.@@.@.@@@@@@@@..@...@@@@.@@@.@@.@..@.@@@...@@@@@.@.@..@..@....@@@..@@@.@.@.@@@@@.@.@@@@.@.@@@.@.@@..@@@@..@@.@@.@@@@@@@@@@@@@@@@.@@@@@@@
@@@@@@@.@@@@..@....@@@@@.@@@@.@.@@.@@@@@..@@@.@.@.@@..@.@@@@@@..@@..@.@...@@@@@@....@@@@.@@@@..@@.@@@.@@@...@@.@.@@@.@.@@@@@@@@@..@@@@...@@
@@@@@@.@@@@@@.@@@..@@@@@.@@@@....@...@@@@.@@@@.@...@@@@.@@.@.@@@@@.@@.@.@@.@@....@@.@@.@@@.@.@@@@@@@@@@..@@@@@@@@..@.@@..@@@@@@@...@@@@.@@@
@@@@@.@@@.@@....@@@.@@.@.@@@..@@..@@@@....@@.@.@@@@@@...@..@@@@@@@@@@.@...@.@@@.@@@@.@@@.@@..@@@.@..@@.@.@@@@.@@@@.@@@.@@..@.@@@.@..@@..@.@
@@.@..@.@...@@@@@..@.@@@@...@@@@.@.@.@@@@@@@@@@@@@@@@.@@.@@@@..@@@@@.@@.@@..@.@@@.@.@@@.@.@@.@@@@..@.@@@@@@@..@@@....@.@@@@.@..@@@@@.@@@@.@
.@@.@@@@@...@@@.@@..@@@@@@@@.@.@..@@@@.@@@@@@.@@.@.@@.@@@@@@.@@@.@@@...@@@@@@@..@..@@..@@@@@.@.@.@@..@@@..@@.@@..@@@@@@..@@.@@@@@@...@@@@@.
@@@.@.@@@@@..@.@@@@@.@@@.@@@@.@..@.@.@@@@.@.@@.@@@@@@@@@@@@.@..@@.@.@.@@..@@.@.@@@@@..@.@...@.@@@@@.@.@.@@@.@@@@@@@@@..@@@..@@@.@@@@@..@@.@
@@@@...@@@...@@@.....@@.@...@@@@.@@@@@@@@@.@@@@@@@..@.@@@@@@.@@@@@.@.@@@@@@.@.@.@@@@@@@@.@.@@@@..@..@@...@@..@.@.@@@@@@@@.@.@.@@.@@..@@..@@
@@@@...@@@@@.@@@@.@..@@@@.@.@.@.@@....@@@....@.@.@@@..@...@@@@@@@@@..@@.@@@@@@@.@@@@.@@@.@@.@..@@@@@.@..@@.@..@@@.@@@.@..@@@@@@@@@@...@..@@
@@@@@@@..@@@.@@..@.@@@@@@@.@.@@@@.@@@..@@@..@..@@@....@@@@.@.@@.@.@..@.@@@@.@@@.@@@@@.@.@@.@.@@.@@.@@@@@.@@.@@.@@@...@..@.@....@..@@@@@@@@@
@@.@@@@@.@.@@@.....@.@...@@.@@.@.@.@....@@@..@@@@..@.@@@@@@.@@.@@@@@@.@@.@@.@@.@@@@.@@.@.@...@.@@@.@..@@@@...@@@@.@@@@..@@@@@@..@@.@.@@@@.@
@.@.@@@@.@.@@.@@@.@.@..@@...@@@@@@.....@@@.@@.@@@.@@.@@@@@..@@@...@.@@@@.@@@@@@@...@@@@@@@@@@@@.@@@.@@@@..@@...@..@@@..@@@@.@@@@@..@@@@@@@@
..@@@@..@.@.@@@@@.@@@.@...@@.@@@@.@@.@@@@@@@.@@.@..@@@@@.@@...@@@@@@..@@@.@@.@.@@@@.@..@.@@@@@@..@@@@@.@..@..@.@@@@...@@..@@...@.@@@@..@@@@
@@@..@@@@@@@.@@.@@.....@.@.@.@.@@@@.@@@@@@.@@@@@.@@@@.@@@@@.@.@@@@@@@.@.@@.@@@@.@...@@@...@.@...@@.@.@@@.@...@.@@.@.@@....@@.@...@@@@..@.@.
@.@@@@@@@@.@@.@@@@...@@....@.@@@.@@.@@@@@.@@@@...@...@@@@..@@@.@@@@@.@..@@...@@..@..@..@@.@.@@@@@@..@@@@...@@@@..@.@..@@.@@@@@..@@@@.@.@@@@
@..@@.@@@@..@@@@@@@@@...@.@@.@...@@@@@@@@..@..@...@@.@.@@.@....@@.@@.@@.@.@@@..@@@@@..@.@@@..@@@.@@..@@@@@@...@@@@@@@@@.@@@.@.@@@@.@@@@@@@@
@@.@.@.@@@@@@@@.@@.@@..@.@@@.@....@@.@@@...@@@@@@@.@@@.@@@@@@@@.@@@@.@@..@@.@@@@@..@@....@@@@@@..@@.@.@@.@.@@@.@@..@.@@@@@.@@.@@@.@.@@@@.@@
@@.@@@@@@@@@@@@.@@.@..@@..@...@.@.@.@...@@@@@@.@@..@..@@@@@@@@@@@@@@@.@.@@..@@.@@@@@...@....@.@@@@@@@@@.@@@@@@@@..@..@@@.@.@@@@.@@.@@@.@@.@
@.@@@@@@@@.@@@.@..@@@@@@@.@@..@@@@.@...@@.@.@@.@....@.@@@@@@@..@...@@@.@@@.@@@@@@@@.@@.@.@.@@@.@@@@.@@@@.@..@..@@.@@@..@@@@@.@@.....@..@.@@
@@@@@.@@@@@.@@@.@..@@@@..@..@.@@@@..@@@.@@@..@.@@.@@@@@@@@@.....@@..@@@.....@.@@@@...@@@@@@@.@.@@.@.@@@@@@.@@@..@@.@@@.@@@@...@..@@@@.@.@.@
@.@@@..@@@@@@.@@.@@@.@@.@@.@.@@@@@@..@@@@..@.@@@@@@.@@.@@.@@@@@@..@.@@@.@@..@@@@@.@@@@.@.@@.@@@..@.@@.@.@@@@@@.@@.@@@.@@..@@@@@@@.@@@@@@..@
@.@@@..@..@@.@@.@@.@.@@.@@@.@.@@@@@@.@@@@@@@@@@....@@@..@.@@..@@@@..@...@..@@...@.@@@@..@.@.@@....@.@.@@@.@@...@.@@@.@@.@..@@@.@@@@@@@.@..@
@@@@@@@@..@.@@.@@.....@@@.@.@@@..@.@@@@@@@.@@..@@..@.@@@..@..@@@@@@.@@@@@.@@@@..@@@@.@@@......@@.@.@@.@..@.@@@.@@.@@@@.@@.@@@.@@@@@.@@@@@@@
..@@@....@@.@.@@@@.@.@@.@.@@@@@@.@@@@@@@@@..@...@@@@@@..@@@@.@@..@@@....@@@.@@@.@...@@@@@@...@@@@.@@@@@@@.....@..@@@.@@..@@...@.@@@@@..@@@@
@@.@@@@@.@@@@.@@@@@@@@@@@@.@..@@@.....@@...@@.@.@@@.@@.@@.@@.@@@@@@.@.@@.@@@@@@.@@@@@@@.@.@@.@@..@@@.@.@@.@@@..@@..@.@@@.@@..@@@.@@@@@@@@@@
.@@@.@.@@.@.@@@@..@.@@@@@@@@@@@@.@@@@.@@@@@...@....@@@@@.@.@@@.@@@.@@@...@@.@@.@@@.@@..@@@@@..@@@@@@@@.....@@@@.@@@.@.@@.@@@@@.@..@@@@@.@@.
.@@@@@@...@@..@@.@@@@@@.@@@@..@@@...@@@@.@@...@@.@@..@@@@@@@.@..@@@@.@...@@@@@.@@@.@@@@...@@.@.@@@@@.@@..@@.@@@@.@@@@@@.@@.@@....@@....@@@.
@.@@@.@@..@@@@@@@@@@@..@.@@@.@@@..@@@@@@@@@@@@.@.@@@.@.@@.@@@@@@.@@@@@.@@@@@@..@@.@..@@@@@@@.@@@@@@@.@@..@..@@..@.@@..@@@@@@@@@@@@.@@@@....
@.@@.@@@@..@@@@@@.@@.@.@@@..@@@.@@.@@@@@.@.@@..@@.@@@@@@.@@..@@...@@@....@@..@@@.@@...@.@...@@@@@@@@@.@@@@@@@@.@@.@.@..@@@.@..@@..@@@@@@.@@
..@...@@@@.@....@@.....@.@@@@.@@..@@@@@@@@@@...@.@@@@@@@@@@@@.@@.......@@@@@@.@.@@@@@.....@@@@...@@@@..@@.@.@@@@@@@@@@@@@@.@@@.@@.@@@@@@.@.
@.@@@@@@..@@@@@@@.@@@@.@.@@@@@.@@@@@@@.@@.@.@@@@.@@.@@@..@....@.@@..@.@@..@@@.@.@..@@..@.@@@.@@@@.@@@@@@@@..@@@@@@..@.@.@@..@@@@@@.@@.....@
@.@@@@@@@@.@...@@@@@@.@.@@@@..@@@.@@@.@@@@...@@..@..@@@@@@@@@@@@@@@..@@.@@@...@@@@@.@@@.@@.@@@@..@....@...@@@.@.....@@.@@@@@@@@@.@.@@@@@.@."""
